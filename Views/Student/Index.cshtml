@model Brunchie.ViewModels.StudentDashboardModel

@{
    ViewData["Title"] = "Student Dashboard";
}

<div class="container-fluid d-flex h-100 p-0">
    <!-- Main Content Area -->
    <div class="container w-75 h-100 p-1">
        <h1 class="p-3">Hello, @User.Identity.Name</h1>

        <div class="content-container">
            <!-- Content from your provided view -->
            <!-- Campus Available Meals Carousel -->
            <h2>Campus Available Meals</h2>
            <div class="scroll-container">
                @if (Model.CampusMenuItems != null && Model.CampusMenuItems.Any())
                {
                    @foreach (var item in Model.CampusMenuItems)
                    {
                        <div class="card">
                            <img src="@item.Image" class="card-img-top" alt="@item.Name">
                            <div class="card-body">
                                <h5 class="card-title">@item.Name</h5>
                                <p class="card-text">@item.Description</p>
                                <form asp-action="AddToCart" method="get">
                                    <input type="hidden" name="menuItemId" value="@item.Id" />
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fa-solid fa-plus"></i>
                                    </button>
                                </form>
                            </div>
                        </div>
                    }
                }
                else
                {
                    <p>There are no menu items to order in your University/College</p>
                }
            </div>
        </div>
    </div>

    <!-- Cart Column -->
    <div class="bg-light border-left w-25 h-100 p-3">
        <div>
            Account Details here
        </div>
        <h3>Card</h3>
        <!-- Some kind of debit/credit card div that shows account balance -->
        <h3>Cart</h3>
        @if (Model.StudentCart != null && Model.StudentCart.Orders != null && Model.StudentCart.Orders.Any())
        {
            @foreach (var order in Model.StudentCart.Orders)
            {
                @foreach(var item in order.OrderItems)
                {
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">@item.Name (@item.Quantity) @@ @item.PricePerPiece</h5>
                            <h6 class="card-text">@item.SpecialInstruction</h6>
                        </div>
                        <h3>@item.Price</h3>
                    </div>
                }
            }
            <a asp-action="Checkout" class="btn btn-success mt-3">Proceed to Checkout</a>
        }
    </div>
</div>
